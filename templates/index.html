
<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    
    <title>Code for America Analytics Dashboard</title>
    
    <link rel="stylesheet" type="text/css" href="//cloud.webtype.com/css/944a7551-9b08-4f0a-8767-e0f83db4a16b.css" />
    
    <!-- The light version of the main CFA stylesheet -->
	<link rel="stylesheet" href="http://style.codeforamerica.org/_site/style/css/cfa-light.css">
	
	<link rel="stylesheet" href="http://style.codeforamerica.org/_site/style/css/layout.css" media="all and (min-width: 40em)">
	
	<!--[if lt IE 9]>
	    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	
	<!--[if (lt IE 9)&(gt IE 6)&(!IEMobile)]>
	<link rel="stylesheet" href="../style/css/layout.css" media="all">
	<![endif]-->
	
	<!-- (Optional) A plugin that adds syntax highlighting to code samples -->
	<link href="http://style.codeforamerica.org/_site/style/css/prism.css" rel="stylesheet" />
	
	<!-- Link to a 32x32 favicon -->
	<link rel="shortcut icon" type="image/x-icon" href="http://style.codeforamerica.org/_site/favicon.ico">
	
	<!-- (Optional) Link to a 60x60 bookmark icon for iOS -->
	<link rel="apple-touch-icon-precomposed" href="http://style.codeforamerica.org/_site/style/favicons/60x60/flag-red.png"/>
	
</head>



<body>

	<div class="layout-semibreve">
	
		<header class="heading">
	    	<h1>Code for America Analytics Dashboard</h1>
	    </header>
	    
	    <div class="layout-minor">
      	
	        <nav role="navigation" class="toc" id="toc">
	        	
	        	<h2>Table of Contents</h2>
	        
		        <ul class="sectlevel1">
		            <li><a href="#what">What is the dashboard?</a></li>
		            <li><a href="#setup">Setup</a></li>
		            <li><a href="#uses">Suggested uses</a></li>
		            <li><a href="#license">Credits and licensing</a></li>
		        </ul>
		        
		    </nav>

		    <a class="button" href="https://github.com/codeforamerica/display-screen">Fork on Github</a>
	
		</div>
	    
	    <main id="content" class="layout-major">
	
		    <section id="what">
		        <h2>What is the dashboard?</h2>
		        <p>Blah blah blah. YAY Stuff.</p>
		    </section>
		
		    <section id="setup">

		        <h2>Setup</h2>
	            <p>Setup is pretty easy, you can do it right from this page. It makes the following assumptions, however:</p>
	            <ul>
	            	<li>You have access to your google analytics account, and permission to turn on the Google Analytics API</li>
	            	<li>You have permission to use, or create, an account with heroku.com</li>
	            </ul>
	            <h3>1. Enable the Google Analytics API</h3>
	            	<p><a href="">Log into the Google Developer Console</a> and enable the Google analytics API</p>
	            <h3>2. Get all the CLIENT keys you'll need from Google</h3>

                {% if client_id and client_secret and refresh_token and properties %}
                    <table>
                        <tr>
                            <td>Client ID</td>
                            <td>{{ client_id }}</td>
                        </tr>
                        <tr>
                            <td>Client Secret</td>
                            <td>{{ client_secret }}</td>
                        </tr>
                        <tr>
                            <td>Refresh Token</td>
                            <td>{{ refresh_token }}</td>
                        </tr>
                    </table>

                {% else %}
                    <p>Authorize yourself with Google via this <a href="">OAuth Dance tool</a>. It'll return you to this page with the correct values.</p>

                    <form action="/authorize-google" method="POST">
                        <button>Authorize with Google</button>
                    </form>
                {% endif %}

	            <h3>3. Select your Analytics ID</h3>

                {% if properties %}
                    <select name="property">
                      {% for (id, name, url) in properties %}
                        <option value="{{ id }} {{ url }}">{{ name }} ({{ url }})</option>
                      {% endfor %}
                    </select>

                {% else %}
                    <!-- If we are able to just poll for this without another auth step, we can just remove this step all together -->
                    <p><a href="">Log in to Google Analytics</a> with the same email you authorized with above, and retrieve your Google Analytics ID.</p>
                    <p><label>Put your Google Analytics View ID here: </label><input /></p>

                    <!-- Totally up for removing this variable entirely -->
                    <p><label>And enter the website's URL here: </label><input />
                {% endif %}
	            
	            <h3>4. Create!</h3>
	            <p>Now all the fields above are filled out, click the button below to create a new Heroku application with these credentials.</p>
	            
	            	<input type="submit" value="Create" disabled /><!--disabled until the above steps are satisfied-->
	            	
	            	<!-- I assume it generates a heroku app name, that we should output here -->
	            <h3>5. Congratulations! You've hopefully got a dashboard now!</h3>
	            <p>Check it out at <a href="">generatedname.herokuapp.com</a></p>

		    </section>
		    
		    <section id="uses">
		        <h2>Suggested uses</h2>
	            <p>The dashboard was designed to be a point of interest in an office, community center or city hall, rather than part of a city website.</p>

		    </section>
		    
		    <section id="license">
		    	<h2>License</h2>
		    </section>
		    			
		</main>
	
	</div>
	
	<a href="#toc" class="skip-to-nav">Table of Contents</a>
	
	<footer class="global-footer">
	    <div class="layout-semibreve layout-tight">
	    	<p>Last updated …</p>
	    	<p>For help contact …</p>
	    </div>
	</footer>
    
</body>

<script src="http://style.codeforamerica.org/script/prism.js"></script>

</html>